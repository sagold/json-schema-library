!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("jlib",[],r):"object"==typeof exports?exports.jlib=r():e.jlib=r()}("undefined"!=typeof self?self:this,(()=>(()=>{var e={546:function(e){"undefined"!=typeof self&&self,e.exports=(()=>{"use strict";var e={d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function t(e){return"#"===e||""===e||Array.isArray(e)&&0===e.length||!1}e.r(r),e.d(r,{default:()=>I,get:()=>c,isRoot:()=>t,join:()=>E,remove:()=>$,removeUndefinedItems:()=>y,set:()=>f,split:()=>l,splitLast:()=>P});const n=/~1/g,o=/~0/g,a=/(^#?\/?)/g;function i(e){return e.replace(n,"/").replace(o,"~")}function s(e){return i(decodeURIComponent(e))}function l(e){if(null==e||"string"!=typeof e||t(e))return Array.isArray(e)?e:[];const r=e.indexOf("#")>=0?s:i,n=(e=e.replace(a,"")).split("/");for(let e=0,t=n.length;e<t;e+=1)n[e]=r(n[e]);return n}function c(e,r,n=void 0){if(null==r||null==e)return n;if(t(r))return e;const o=u(e,l(r));return void 0===o?n:o}function u(e,r){const t=r.shift();if(void 0!==e)return void 0!==t?u(e[t],r):e}const d=/^\[.*\]$/,m=/^[[{](.+)[\]}]$/;function p(e,r){return"__proto__"===e||"constructor"==e&&r.length>0&&"prototype"==r[0]}function f(e,r,t){if(null==r)return e;const n=l(r);if(0===n.length)return e;null==e&&(e=d.test(n[0])?[]:{});let o,a,i=e;for(;n.length>1;)o=n.shift(),a=d.test(n[0])||`${parseInt(n[0])}`===n[0],p(o,n)||(i=v(i,o,a));return o=n.pop(),h(i,o,t),e}function h(e,r,t){var n,o;const a=null!==(o=null===(n=r.match(m))||void 0===n?void 0:n.pop())&&void 0!==o?o:r;"[]"===r&&Array.isArray(e)?e.push(t):e[a]=t}function v(e,r,t){var n,o;const a=null!==(o=null===(n=r.match(m))||void 0===n?void 0:n.pop())&&void 0!==o?o:r;if(null!=e[a])return e[a];const i=t?[]:{};return h(e,r,i),i}function y(e){let r=0,t=0;for(;r+t<e.length;)void 0===e[r+t]&&(t+=1),e[r]=e[r+t],r+=1;return e.length=e.length-t,e}function $(e,r,t){const n=l(r),o=n.pop(),a=c(e,n);return a&&delete a[o],Array.isArray(a)&&!0!==t&&y(a),e}const b=/~/g,g=/\//g;function x(e,r){if(0===e.length)return r?"#":"";for(let t=0,n=e.length;t<n;t+=1)e[t]=e[t].replace(b,"~0").replace(g,"~1"),r&&(e[t]=encodeURIComponent(e[t]));return(r?"#/":"/")+e.join("/")}function E(e,...r){const t=[];if(Array.isArray(e))return x(e,!0===arguments[1]);const n=arguments[arguments.length-1],o="boolean"==typeof n?n:e&&"#"===e[0];for(let e=0,r=arguments.length;e<r;e+=1)t.push.apply(t,l(arguments[e]));const a=[];for(let e=0,r=t.length;e<r;e+=1)if(".."===t[e]){if(0===a.length)return o?"#":"";a.pop()}else a.push(t[e]);return x(a,o)}function P(e){const r=l(e);if(0===r.length)return"string"==typeof e&&"#"===e[0]?["#",r[0]]:["",void 0];if(1===r.length)return"#"===e[0]?["#",r[0]]:["",r[0]];const t=r.pop();return[E(r,"#"===e[0]),t]}const I={get:c,set:f,remove:$,join:E,split:l,splitLast:P,isRoot:t,removeUndefinedItems:y};return r})()},17:e=>{"use strict";e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var n,o,a;if(Array.isArray(r)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((n=(a=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,a[o]))return!1;for(o=n;0!=o--;){var i=a[o];if(!e(r[i],t[i]))return!1}return!0}return r!=r&&t!=t}},515:function(e){var r,t;r=this,t=function(){function e(r,t,n){return this.id=++e.highestId,this.name=r,this.symbols=t,this.postprocess=n,this}function r(e,r,t,n){this.rule=e,this.dot=r,this.reference=t,this.data=[],this.wantedBy=n,this.isComplete=this.dot===e.symbols.length}function t(e,r){this.grammar=e,this.index=r,this.states=[],this.wants={},this.scannable=[],this.completed={}}function n(e,r){this.rules=e,this.start=r||this.rules[0].name;var t=this.byName={};this.rules.forEach((function(e){t.hasOwnProperty(e.name)||(t[e.name]=[]),t[e.name].push(e)}))}function o(){this.reset("")}function a(e,r,a){if(e instanceof n){var i=e;a=r}else i=n.fromCompiled(e,r);for(var s in this.grammar=i,this.options={keepHistory:!1,lexer:i.lexer||new o},a||{})this.options[s]=a[s];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new t(i,0);this.table=[l],l.wants[i.start]=[],l.predict(i.start),l.process(),this.current=0}function i(e){var r=typeof e;if("string"===r)return e;if("object"===r){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return e.toString();if(e.type)return"%"+e.type;if(e.test)return"<"+String(e.test)+">";throw new Error("Unknown symbol type: "+e)}}return e.highestId=0,e.prototype.toString=function(e){var r=void 0===e?this.symbols.map(i).join(" "):this.symbols.slice(0,e).map(i).join(" ")+" ● "+this.symbols.slice(e).map(i).join(" ");return this.name+" → "+r},r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(e){var t=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return t.left=this,t.right=e,t.isComplete&&(t.data=t.build(),t.right=void 0),t},r.prototype.build=function(){var e=[],r=this;do{e.push(r.right.data),r=r.left}while(r.left);return e.reverse(),e},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,a.fail))},t.prototype.process=function(e){for(var r=this.states,t=this.wants,n=this.completed,o=0;o<r.length;o++){var i=r[o];if(i.isComplete){if(i.finish(),i.data!==a.fail){for(var s=i.wantedBy,l=s.length;l--;){var c=s[l];this.complete(c,i)}if(i.reference===this.index){var u=i.rule.name;(this.completed[u]=this.completed[u]||[]).push(i)}}}else{if("string"!=typeof(u=i.rule.symbols[i.dot])){this.scannable.push(i);continue}if(t[u]){if(t[u].push(i),n.hasOwnProperty(u)){var d=n[u];for(l=0;l<d.length;l++){var m=d[l];this.complete(i,m)}}}else t[u]=[i],this.predict(u)}}},t.prototype.predict=function(e){for(var t=this.grammar.byName[e]||[],n=0;n<t.length;n++){var o=t[n],a=this.wants[e],i=new r(o,0,this.index,a);this.states.push(i)}},t.prototype.complete=function(e,r){var t=e.nextState(r);this.states.push(t)},n.fromCompiled=function(r,t){var o=r.Lexer;r.ParserStart&&(t=r.ParserStart,r=r.ParserRules);var a=new n(r=r.map((function(r){return new e(r.name,r.symbols,r.postprocess)})),t);return a.lexer=o,a},o.prototype.reset=function(e,r){this.buffer=e,this.index=0,this.line=r?r.line:1,this.lastLineBreak=r?-r.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(e,r){var t=this.buffer;if("string"==typeof t){var n=t.split("\n").slice(Math.max(0,this.line-5),this.line),o=t.indexOf("\n",this.index);-1===o&&(o=t.length);var a=this.index-this.lastLineBreak,i=String(this.line).length;return r+=" at line "+this.line+" col "+a+":\n\n",r+=n.map((function(e,r){return s(this.line-n.length+r+1,i)+" "+e}),this).join("\n"),r+="\n"+s("",i+a)+"^\n"}return r+" at index "+(this.index-1);function s(e,r){var t=String(e);return Array(r-t.length+1).join(" ")+t}},a.fail={},a.prototype.feed=function(e){var r,n=this.lexer;for(n.reset(e,this.lexerState);;){try{if(!(r=n.next()))break}catch(e){var a=new t(this.grammar,this.current+1);throw this.table.push(a),(l=new Error(this.reportLexerError(e))).offset=this.current,l.token=e.token,l}var i=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var s=this.current+1;a=new t(this.grammar,s),this.table.push(a);for(var l,c=void 0!==r.text?r.text:r.value,u=n.constructor===o?r.value:r,d=i.scannable,m=d.length;m--;){var p=d[m],f=p.rule.symbols[p.dot];if(f.test?f.test(u):f.type?f.type===r.type:f.literal===c){var h=p.nextState({data:u,token:r,isToken:!0,reference:s-1});a.states.push(h)}}if(a.process(),0===a.states.length)throw(l=new Error(this.reportError(r))).offset=this.current,l.token=r,l;this.options.keepHistory&&(i.lexerState=n.save()),this.current++}return i&&(this.lexerState=n.save()),this.results=this.finish(),this},a.prototype.reportLexerError=function(e){var r,t,n=e.token;return n?(r="input "+JSON.stringify(n.text[0])+" (lexer error)",t=this.lexer.formatError(n,"Syntax error")):(r="input (lexer error)",t=e.message),this.reportErrorCommon(t,r)},a.prototype.reportError=function(e){var r=(e.type?e.type+" token: ":"")+JSON.stringify(void 0!==e.value?e.value:e),t=this.lexer.formatError(e,"Syntax error");return this.reportErrorCommon(t,r)},a.prototype.reportErrorCommon=function(e,r){var t=[];t.push(e);var n=this.table.length-2,o=this.table[n],a=o.states.filter((function(e){var r=e.rule.symbols[e.dot];return r&&"string"!=typeof r}));return 0===a.length?(t.push("Unexpected "+r+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(o.states,t)):(t.push("Unexpected "+r+". Instead, I was expecting to see one of the following:\n"),a.map((function(e){return this.buildFirstStateStack(e,[])||[e]}),this).forEach((function(e){var r=e[0],n=r.rule.symbols[r.dot],o=this.getSymbolDisplay(n);t.push("A "+o+" based on:"),this.displayStateStack(e,t)}),this)),t.push(""),t.join("\n")},a.prototype.displayStateStack=function(e,r){for(var t,n=0,o=0;o<e.length;o++){var a=e[o],i=a.rule.toString(a.dot);i===t?n++:(n>0&&r.push("    ^ "+n+" more lines identical to this"),n=0,r.push("    "+i)),t=i}},a.prototype.getSymbolDisplay=function(e){return function(e){var r=typeof e;if("string"===r)return e;if("object"===r){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return"character matching "+e;if(e.type)return e.type+" token";if(e.test)return"token matching "+String(e.test);throw new Error("Unknown symbol type: "+e)}}(e)},a.prototype.buildFirstStateStack=function(e,r){if(-1!==r.indexOf(e))return null;if(0===e.wantedBy.length)return[e];var t=e.wantedBy[0],n=[e].concat(r),o=this.buildFirstStateStack(t,n);return null===o?null:[e].concat(o)},a.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},a.prototype.restore=function(e){var r=e.index;this.current=r,this.table[r]=e,this.table.splice(r+1),this.lexerState=e.lexerState,this.results=this.finish()},a.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},a.prototype.finish=function(){var e=[],r=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(t){t.rule.name===r&&t.dot===t.rule.symbols.length&&0===t.reference&&t.data!==a.fail&&e.push(t)})),e.map((function(e){return e.data}))},{Parser:a,Grammar:n,Rule:e}},e.exports?e.exports=t():r.nearley=t()},84:(e,r)=>{"use strict";function t(e){return e[0]}Object.defineProperty(r,"__esModule",{value:!0});const n=e=>[].concat(...e.map((e=>Array.isArray(e)?n(e):e)));function o(e){return e?Array.isArray(e)?n(e).join(""):e:""}const a={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:t},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:t},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:t},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:t},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:o(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:o(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:o(e[0]),domainPart:o(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:o(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:o(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:t},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:t},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:t},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:t},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:t}],ParserStart:"Reverse_path"};r.default=a},125:function(e,r,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.canonicalize=r.canonicalize_quoted_string=r.normalize=r.normalize_dot_string=r.parse=void 0;const o=t(515),a=n(t(84));a.default.ParserStart="Mailbox";const i=o.Grammar.fromCompiled(a.default);function s(e){const r=new o.Parser(i);if(r.feed(e),1!==r.results.length)throw new Error("address parsing failed: ambiguous grammar");return r.results[0]}function l(e){return function(){const r=e.indexOf("+");return-1===r?e:e.substr(0,r)}().replace(/\./g,"").toLowerCase()}function c(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}r.parse=s,r.normalize_dot_string=l,r.normalize=function(e){var r,t;const n=s(e),o=null!==(r=n.domainPart.AddressLiteral)&&void 0!==r?r:n.domainPart.DomainName.toLowerCase();return`${null!==(t=n.localPart.QuotedString)&&void 0!==t?t:l(n.localPart.DotString)}@${o}`},r.canonicalize_quoted_string=c,r.canonicalize=function(e){var r;const t=s(e),n=null!==(r=t.domainPart.AddressLiteral)&&void 0!==r?r:t.domainPart.DomainName.toLowerCase();return`${t.localPart.QuotedString?c(t.localPart.QuotedString):t.localPart.DotString}@${n}`}},853:(e,r,t)=>{!function(e){"use strict";e.exports.is_uri=t,e.exports.is_http_uri=n,e.exports.is_https_uri=o,e.exports.is_web_uri=a,e.exports.isUri=t,e.exports.isHttpUri=n,e.exports.isHttpsUri=o,e.exports.isWebUri=a;var r=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function t(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var t,n,o,a,i,s="",l="";if(s=(t=r(e))[1],n=t[2],o=t[3],a=t[4],i=t[5],s&&s.length&&o.length>=0){if(n&&n.length){if(0!==o.length&&!/^\//.test(o))return}else if(/^\/\//.test(o))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(s.toLowerCase()))return l+=s+":",n&&n.length&&(l+="//"+n),l+=o,a&&a.length&&(l+="?"+a),i&&i.length&&(l+="#"+i),l}}}function n(e,n){if(t(e)){var o,a,i,s,l="",c="",u="",d="";if(l=(o=r(e))[1],c=o[2],a=o[3],i=o[4],s=o[5],l){if(n){if("https"!=l.toLowerCase())return}else if("http"!=l.toLowerCase())return;if(c)return/:(\d+)$/.test(c)&&(u=c.match(/:(\d+)$/)[0],c=c.replace(/:\d+$/,"")),d+=l+":",d+="//"+c,u&&(d+=u),d+=a,i&&i.length&&(d+="?"+i),s&&s.length&&(d+="#"+s),d}}}function o(e){return n(e,!0)}function a(e){return n(e)||o(e)}}(e=t.nmd(e))}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};return(()=>{"use strict";t.r(n),t.d(n,{compileSchema:()=>Qr,createSchema:()=>Br,draft04:()=>ze,draft06:()=>Ze,draft07:()=>Xe,draft2019:()=>er,each:()=>nt,eachSchema:()=>it,isJsonError:()=>u,isSchemaNode:()=>d});const e={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",ContainsMinError:"The array at `{{pointer}}` contains {{delta}} too few items matching `{{schema}}`",ContainsMaxError:"The array at `{{pointer}}` contains {{delta}} too many items matching `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ExclusiveMaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be at most `{{maximum}}`",ExclusiveMinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be at minimum `{{minimum}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatDurationError:"Value `{{value}}` at `{{pointer}}` is not a valid duration",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",FormatUUIDError:"Value `{{value}}` at `{{pointer}}` is not a valid uuid",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maxProperties}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minItems}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MissingOneOfDeclaratorError:"Missing oneOf declarator `{{declarator}}` in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minProperties}}`, but got `{{length}}`",MissingArrayItemError:"Array at '{{pointer}}' has a missing item at '{{key}}'",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",SchemaWarning:"Failed retrieving a schema from '{{pointer}}' to key '{{key}}'",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UnevaluatedPropertyError:"Invalid unevaluated property `{{pointer}}`",UnevaluatedItemsError:"Invalid unevaluated item `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},r=Object.prototype.toString;function o(e){const t=r.call(e).match(/\s([^\]]+)\]/).pop().toLowerCase();return"file"===t?"object":t}function a(r,t,n=r){var a;return function(e,r={}){return e.replace(/\{\{\w+\}\}/g,(e=>{const t=e.replace(/[{}]/g,""),n=r[t],a=o(n);return"object"===a||"array"===a?JSON.stringify(n):n}))}(null!==(a=e[r])&&void 0!==a?a:n,t)}function i(e,r){return{type:"error",name:e,code:(t=e,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),message:a(e,r),data:r};var t}function s(e){return i.bind(null,e)}const l={additionalItemsError:s("AdditionalItemsError"),additionalPropertiesError:s("AdditionalPropertiesError"),allOfError:s("AllOfError"),anyOfError:s("AnyOfError"),constError:s("ConstError"),containsAnyError:s("ContainsAnyError"),containsArrayError:s("ContainsArrayError"),containsError:s("ContainsError"),containsMaxError:s("ContainsMaxError"),containsMinError:s("ContainsMinError"),enumError:s("EnumError"),exclusiveMaximumError:s("ExclusiveMaximumError"),exclusiveMinimumError:s("ExclusiveMinimumError"),forbiddenPropertyError:s("ForbiddenPropertyError"),formatDateError:s("FormatDateError"),formatDateTimeError:s("FormatDateTimeError"),formatDurationError:s("FormatDurationError"),formatEmailError:s("FormatEmailError"),formatHostnameError:s("FormatHostnameError"),formatIPV4Error:s("FormatIPV4Error"),formatIPV4LeadingZeroError:s("FormatIPV4LeadingZeroError"),formatIPV6Error:s("FormatIPV6Error"),formatIPV6LeadingZeroError:s("FormatIPV6LeadingZeroError"),formatJsonPointerError:s("FormatJsonPointerError"),formatRegExError:s("FormatRegExError"),formatTimeError:s("FormatTimeError"),formatURIError:s("FormatURIError"),formatURIReferenceError:s("FormatURIReferenceError"),formatURITemplateError:s("FormatURITemplateError"),formatURLError:s("FormatURLError"),formatUUIDError:s("FormatUUIDError"),invalidDataError:s("InvalidDataError"),invalidPropertyNameError:s("InvalidPropertyNameError"),invalidSchemaError:s("InvalidSchemaError"),invalidTypeError:s("InvalidTypeError"),maximumError:s("MaximumError"),maxItemsError:s("MaxItemsError"),maxLengthError:s("MaxLengthError"),maxPropertiesError:s("MaxPropertiesError"),minimumError:s("MinimumError"),minItemsError:s("MinItemsError"),minItemsOneError:s("MinItemsOneError"),minLengthError:s("MinLengthError"),minLengthOneError:s("MinLengthOneError"),minPropertiesError:s("MinPropertiesError"),missingArrayItemError:s("MissingArrayItemError"),missingDependencyError:s("MissingDependencyError"),missingOneOfPropertyError:s("MissingOneOfPropertyError"),missingOneOfDeclaratorError:s("MissingOneOfDeclaratorError"),multipleOfError:s("MultipleOfError"),multipleOneOfError:s("MultipleOneOfError"),noAdditionalPropertiesError:s("NoAdditionalPropertiesError"),notError:s("NotError"),oneOfError:s("OneOfError"),oneOfPropertyError:s("OneOfPropertyError"),patternError:s("PatternError"),patternPropertiesError:s("PatternPropertiesError"),requiredPropertyError:s("RequiredPropertyError"),schemaWarning:s("SchemaWarning"),typeError:s("TypeError"),undefinedValueError:s("UndefinedValueError"),unevaluatedItemsError:s("UnevaluatedItemsError"),unevaluatedPropertyError:s("UnevaluatedPropertyError"),uniqueItemsError:s("UniqueItemsError"),unknownPropertyError:s("UnknownPropertyError"),valueNotEmptyError:s("ValueNotEmptyError")};function c(e){return"object"===o(e)}function u(e){return"error"===(null==e?void 0:e.type)}function d(e){return c(e)&&Array.isArray(null==e?void 0:e.reducers)&&Array.isArray(null==e?void 0:e.resolvers)}function m(e,r=[]){for(let t=0;t<e.length;t+=1){const n=e[t];Array.isArray(n)?m(n,r):u(n)&&r.push(n)}return r}function p(e,r){return c(e)||Array.isArray(e)?e[r]:void 0}const f={id:"additionalItems",keyword:"additionalItems",parse:function(e){const{schema:r,spointer:t,schemaId:n}=e;(c(r.additionalItems)||!0===r.additionalItems)&&(e.additionalItems=e.compileSchema(r.additionalItems,`${t}/additionalItems`,`${n}/additionalItems`))},addResolve:e=>null!=e.additionalItems,resolve:function({node:e,key:r,data:t}){if(Array.isArray(t)){const n=p(t,r);return e.additionalItems.reduce({data:n})}},addValidate:({schema:e})=>null!=e.additionalItems&&!0!==e.additionalItems&&null!=e.items&&!c(e.items),validate:function({node:e,data:r,pointer:t="#"}){const{schema:n}=e;if(!Array.isArray(r)||0===r.length)return;if(Array.isArray(n.items)&&n.items.length>=r.length)return;const o=Array.isArray(n.items)?n.items.length:0,a=[];for(let i=o;i<r.length;i+=1){const o=r[i];if(e.additionalItems){const r=e.additionalItems.validate(o,`${t}/${i}`);a.push(...r)}else!1===n.additionalItems&&a.push(e.errors.additionalItemsError({key:i,pointer:`${t}/${i}`,value:r,schema:n}))}return a}};const h={DECLARATOR_ONEOF:"oneOfProperty",EXPOSE_ONE_OF_INDEX:!0,propertyBlacklist:["_id"]},v={id:"additionalProperties",keyword:"additionalProperties",parse:function(e){const{schema:r,spointer:t,schemaId:n}=e;c(r.additionalProperties)&&(e.additionalProperties=e.compileSchema(r.additionalProperties,`${t}/additionalProperties`,`${n}/additionalProperties`))},addResolve:({schema:e})=>null!=e.additionalProperties,resolve:function({node:e,data:r,key:t}){const n=p(r,t);if(e.additionalProperties)return e.additionalProperties.reduce({data:n});if(!1===e.schema.additionalProperties)return e.errors.noAdditionalPropertiesError({pointer:`${t}`,schema:e.schema,value:p(r,t),property:`${t}`})},addValidate:({schema:e})=>!0!==e.additionalProperties&&null!=e.additionalProperties&&!(!1===e.additionalProperties&&c(e.patternProperties)),validate:function({node:e,data:r,pointer:t="#",path:n}){if(!c(r))return;const{schema:o}=e;if(c(o.patternProperties)&&!1===o.additionalProperties)return;const a=[];let i=Object.keys(r).filter((e=>!1===h.propertyBlacklist.includes(e)));Array.isArray(e.patternProperties)&&(i=i.filter((r=>{for(let t=0;t<e.patternProperties.length;t+=1)if(e.patternProperties[t].pattern.test(r))return!1;return!0})));const s=e.properties?Object.keys(e.properties):[];return i.filter((e=>-1===s.indexOf(e))).forEach((i=>{const l=p(r,i);if(c(e.additionalProperties)){const r=e.additionalProperties.validate(l,t,n);a.push(...r)}else a.push(e.errors.noAdditionalPropertiesError({pointer:t,schema:o,value:r,property:i,properties:s}))})),a}};function y(e,r,...t){if("error"===(null==r?void 0:r.type))return r;if("error"===(null==e?void 0:e.type))return e;if(o(e)!==o(r))return e;const n=$(e,r);for(let e=0;e<t.length;e+=1)delete n[t[e]];return n}function $(e,r,t){var n;if(c(e)&&c(r)){const t={};return[...Object.keys(e),...Object.keys(r)].filter(((e,r,t)=>t.indexOf(e)===r)).forEach((n=>t[n]=$(e[n],r[n],n))),t}if(Array.isArray(e)&&Array.isArray(r)){if("required"===t)return e.concat(r).filter(((e,r,t)=>t.indexOf(e)===r));if("items"===t){const t=[];for(let o=0;o<r.length;o+=1)c(e[o])&&c(r[o])&&e[o].type===r[o].type?t[o]=$(e[o],r[o]):t.push(null!==(n=r[o])&&void 0!==n?n:e[o]);return t}const o=[],a=[];for(let t=0;t<Math.max(e.length,r.length);t+=1)c(e[t])&&c(r[t])?o[t]=$(e[t],r[t]):void 0!==e[t]&&void 0!==r[t]?(o[t]=e[t],a.push(r[t])):void 0!==e[t]?o[t]=e[t]:void 0!==r[t]&&a.push(r[t]);return[...o,...a].filter(((e,r,t)=>t.indexOf(e)===r))}return Array.isArray(r)?r:Array.isArray(e)?e:void 0!==r?r:e}const b={id:"allOf",keyword:"allOf",parse:function(e){const{schema:r,spointer:t}=e;Array.isArray(r.allOf)&&r.allOf.length&&(e.allOf=r.allOf.map(((r,n)=>e.compileSchema(r,`${t}/allOf/${n}`,`${e.schemaId}/allOf/${n}`))))},addReduce:e=>null!=e.allOf,reduce:function({node:e,data:r}){let t={};for(let n=0;n<e.allOf.length;n+=1){const o=e.allOf[n].reduce({data:r}),a=y(e.allOf[n].schema,o.schema);t=y(t,a,"allOf")}return e.compileSchema(t,`${e.spointer}/allOf`,e.schemaId)},addValidate:e=>null!=e.allOf,validate:function({node:e,data:r,pointer:t,path:n}){if(!Array.isArray(e.allOf)||0===e.allOf.length)return;const o=[];return e.allOf.forEach((e=>{o.push(...e.validate(r,t,n))})),o}};const g={id:"anyOf",keyword:"anyOf",parse:function(e){const{schema:r,spointer:t,schemaId:n}=e;Array.isArray(r.anyOf)&&r.anyOf.length&&(e.anyOf=r.anyOf.map(((r,o)=>e.compileSchema(r,`${t}/anyOf/${o}`,`${n}/anyOf/${o}`))))},addReduce:e=>null!=e.anyOf,reduce:function({node:e,data:r}){let t={};for(let n=0;n<e.anyOf.length;n+=1)if(0===e.anyOf[n].validate(r).length){const o=e.anyOf[n].reduce({data:r}),a=y(e.anyOf[n].schema,o.schema);t=y(t,a,"anyOf")}return e.compileSchema(t,`${e.spointer}/anyOf`,e.schemaId)},addValidate:e=>null!=e.anyOf,validate:function({node:e,data:r,pointer:t,path:n}){for(let o=0;o<e.anyOf.length;o+=1)if(0===e.anyOf[o].validate(r,t,n).length)return;return e.errors.anyOfError({pointer:t,schema:e.schema,value:r,anyOf:e.schema.anyOf})}};const x={id:"contains",keyword:"contains",parse:function(e){const{schema:r,spointer:t}=e;if(null==r.contains)return;e.contains=e.compileSchema(r.contains,`${t}/contains`)},addValidate:e=>null!=e.contains,validate:function({node:e,data:r,pointer:t}){var n,o;const{schema:a}=e;if(!Array.isArray(r))return;if(!1===a.contains)return e.errors.containsArrayError({pointer:t,value:r,schema:a});if(!0===a.contains)return Array.isArray(r)&&0===r.length?e.errors.containsAnyError({pointer:t,value:r,schema:a}):void 0;if(!c(a.contains)||!Array.isArray(r))return;let i=0;for(let t=0;t<r.length;t+=1)0===e.contains.validate(r[t]).length&&i++;const s=null!==(n=a.maxContains)&&void 0!==n?n:1/0,l=null!==(o=a.minContains)&&void 0!==o?o:1;if(s>=i&&l<=i)return;if(s<i)return e.errors.containsMaxError({pointer:t,schema:a,delta:i-s,value:r});if(l>i)return e.errors.containsMinError({pointer:t,schema:a,delta:l-i,value:r});return e.errors.containsError({pointer:t,schema:a,value:r})}};function E(e){return e=(e=e.replace(/~/g,"~0")).replace(/\//g,"~1"),encodeURIComponent(e)}const P={id:"$defs",keyword:"$defs",parse:function(e){var r,t;e.schema.$defs&&(e.$defs=null!==(r=e.$defs)&&void 0!==r?r:{},Object.keys(e.schema.$defs).forEach((r=>{e.$defs[r]=e.compileSchema(e.schema.$defs[r],`${e.spointer}/$defs/${E(r)}`,`${e.schemaId}/$defs/${r}`)})));e.schema.definitions&&(e.$defs=null!==(t=e.$defs)&&void 0!==t?t:{},Object.keys(e.schema.definitions).forEach((r=>{e.$defs[r]=e.compileSchema(e.schema.definitions[r],`${e.spointer}/definitions/${E(r)}`,`${e.schemaId}/definitions/${E(r)}`)})))}};const I={id:"dependencies",keyword:"dependencies",parse:function(e){const{dependencies:r}=e.schema;if(!c(r))return;const t=Object.keys(r);if(0===t.length)return;e.dependencies={},t.forEach((t=>{const n=r[t];c(n)||"boolean"==typeof n?e.dependencies[t]=e.compileSchema(n,`${e.spointer}/dependencies/${t}`,`${e.schemaId}/dependencies/${t}`):Array.isArray(n)&&(e.dependencies[t]=n)}))},addReduce:e=>null!=e.dependencies,reduce:function({node:e,data:r,path:t}){if(!c(r)||null==e.dependencies)return e;let n;const{dependencies:o}=e;if(Object.keys(o).forEach((e=>{var t;n=null!=n?n:{properties:{}},d(o[e])?n=y(n,o[e].schema):Array.isArray(o[e])&&void 0!==r[e]&&(n.required=null!==(t=n.required)&&void 0!==t?t:[],n.required.push(...o[e]))})),null==n)return e;return n=y(e.schema,n,"dependencies"),e.compileSchema(n,e.spointer).reduce({data:r,path:t})},addValidate:e=>null!=e.dependencies,validate:function({node:e,data:r,pointer:t="#"}){if(!c(r))return;const n=[],o=e.dependencies;return Object.keys(r).forEach((a=>{const i=o[a];if(void 0===i)return;if(!0===i)return;if(!1===i)return void n.push(e.errors.missingDependencyError({pointer:t,schema:e.schema,value:r}));let s=[];if(Array.isArray(i))s=i.filter((e=>void 0===p(r,e))).map((n=>e.errors.missingDependencyError({missingProperty:n,pointer:`${t}/${n}`,schema:e.schema,value:r})));else{if(!d(i))throw new Error(`Invalid dependency definition for ${t}/${a}. Must be string[] or schema`);s=i.validate(r,t)}n.push(...s)})),n}};const O={id:"enum",keyword:"enum",addValidate:({schema:e})=>Array.isArray(e.enum),validate:function({node:e,data:r,pointer:t="#"}){const{schema:n}=e,a=o(r);if("object"===a||"array"===a){const e=JSON.stringify(r);for(let r=0;r<n.enum.length;r+=1)if(JSON.stringify(n.enum[r])===e)return}else if(n.enum.includes(r))return;return e.errors.enumError({pointer:t,schema:n,value:r})}};const _={id:"exclusiveMaximum",keyword:"exclusiveMaximum",addValidate:({schema:e})=>!0===e.exclusiveMaximum||!isNaN(e.maximum),validate:function({node:e,data:r,pointer:t}){if("number"!=typeof r)return;if(e.schema.exclusiveMaximum&&e.schema.maximum===r)return e.errors.maximumError({maximum:e.schema.exclusiveMaximum,length:r,pointer:t,schema:e.schema,value:r})}};const A={id:"exclusiveMinimum",keyword:"exclusiveMinimum",addValidate:({schema:e})=>!0===e.exclusiveMinimum||!isNaN(e.minimum),validate:function({node:e,data:r,pointer:t}){if("number"!=typeof r)return;if(e.schema.exclusiveMinimum&&e.schema.minimum===r)return e.errors.minimumError({minimum:e.schema.exclusiveMinimum,length:r,pointer:t,schema:e.schema,value:r})}};var S=t(853),w=t.n(S),k=t(125);const j={id:"format",keyword:"format",addValidate:({schema:e})=>null!=q[null==e?void 0:e.format],validate:function(e){const r=e.node.schema.format;return q[r](e)}};const N=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,L=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,D=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,M=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,R=/^(?<time>(?:([0-1]\d|2[0-3]):[0-5]\d:(?<second>[0-5]\d|60)))(?:\.\d+)?(?<offset>(?:z|[+-]([0-1]\d|2[0-3])(?::?[0-5]\d)?))$/i,V=[0,31,28,31,30,31,30,31,31,30,31,30,31],F=/^(?:\/(?:[^~/]|~0|~1)*)*$/,U=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,T=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,C=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,z=/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,q={date:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"!=typeof t||""===t)return;const o=t.match(M);if(!o)return e.errors.formatDateTimeError({value:t,pointer:r,schema:n});const a=+o[1],i=+o[2],s=+o[3];return i>=1&&i<=12&&s>=1&&s<=(2==i&&(a%4==0&&(a%100!=0||a%400==0))?29:V[i])?void 0:e.errors.formatDateError({value:t,pointer:r,schema:n})},"date-time":({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"!=typeof t||""===t)return;const o=t.split(/t/i);if(2===o.length){const t=void 0===q.date({node:e,pointer:r,data:o[0]}),n=void 0===q.time({node:e,pointer:r,data:o[1]});if(t&&n)return}return e.errors.formatDateTimeError({value:t,pointer:r,schema:n})},duration:({node:e,pointer:r,data:t})=>{if("string"!==o(t))return;return!z.test(t)||/(\d+M)(\d+W)|(\d+Y)(\d+W)/.test(t)?e.errors.formatDurationError({value:t,pointer:r,schema:e.schema}):void 0},email:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"!=typeof t||""===t)return;if('"'===t[0])return e.errors.formatEmailError({value:t,pointer:r,schema:n});const[o,a,...i]=t.split("@");return!o||!a||0!==i.length||o.length>64||a.length>253||"."===o[0]||o.endsWith(".")||o.includes("..")?e.errors.formatEmailError({value:t,pointer:r,schema:n}):/^[a-z0-9.-]+$/i.test(a)&&/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(o)&&a.split(".").every((e=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(e)))?void 0:e.errors.formatEmailError({value:t,pointer:r,schema:n})},"idn-email":({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&""!==t)try{return void(0,k.parse)(t)}catch(o){return e.errors.formatEmailError({value:t,pointer:r,schema:n})}},hostname:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&!D.test(t))return e.errors.formatHostnameError({value:t,pointer:r,schema:n})},ipv4:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&""!==t){if(t&&"0"===t[0])return e.errors.formatIPV4LeadingZeroError({value:t,pointer:r,schema:n});if(!(t.length<=15&&N.test(t)))return e.errors.formatIPV4Error({value:t,pointer:r,schema:n})}},ipv6:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&""!==t){if(t&&"0"===t[0])return e.errors.formatIPV6LeadingZeroError({value:t,pointer:r,schema:n});if(!(t.length<=45&&L.test(t)))return e.errors.formatIPV6Error({value:t,pointer:r,schema:n})}},"json-pointer":({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&""!==t&&!F.test(t))return e.errors.formatJsonPointerError({value:t,pointer:r,schema:n})},"relative-json-pointer":({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&!U.test(t))return e.errors.formatJsonPointerError({value:t,pointer:r,schema:n})},regex:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&!1===/\\Z$/.test(t)){try{return void new RegExp(t)}catch(e){}return e.errors.formatRegExError({value:t,pointer:r,schema:n})}if("object"!=typeof t&&"number"!=typeof t&&!Array.isArray(t)&&"boolean"!==o(t))return e.errors.formatRegExError({value:t,pointer:r,schema:n})},time:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"!=typeof t||""===t)return;const o=t.match(R);if(!o)return e.errors.formatDateTimeError({value:t,pointer:r,schema:n});if("60"===o.groups.second){if(/23:59:60(z|\+00:00)/i.test(t))return;const a=o.groups.time.match(/(\d+):(\d+):/),i=o.groups.offset.match(/(\d+):(\d+)/);if(i){const e=parseInt(a[1]),r=parseInt(i[1]),t=parseInt(a[2]),n=parseInt(i[2]);let s;s=/^-/.test(o.groups.offset)?60*(e+r)+(t+n):60*(24+e-r)+(t-n);const l=Math.floor(s/60);if(23===l%24&&59===s-60*l)return}return e.errors.formatDateTimeError({value:t,pointer:r,schema:n})}},uri:({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&""!==t&&!w().isUri(t))return e.errors.formatURIError({value:t,pointer:r,schema:n})},"uri-reference":({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&""!==t&&!T.test(t))return e.errors.formatURIReferenceError({value:t,pointer:r,schema:n})},"uri-template":({node:e,pointer:r,data:t})=>{const{schema:n}=e;if("string"==typeof t&&""!==t&&!C.test(t))return e.errors.formatURITemplateError({value:t,pointer:r,schema:n})},url:({node:e,data:r,pointer:t})=>{const{schema:n}=e;if(""!==r&&!w().isWebUri(`${r}`))return e.errors.formatURLError({value:r,pointer:t,schema:n})},uuid:({node:e,data:r,pointer:t})=>{const{schema:n}=e;if("string"==typeof r&&""!==r&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r))return e.errors.formatUUIDError({value:r,pointer:t,schema:n})}},J={id:"items",keyword:"items",parse:function(e){const{schema:r,spointer:t}=e;if(c(r.items)){const n=e.compileSchema(r.items,`${t}/items`,`${e.schemaId}/items`);e.itemsObject=n}else Array.isArray(r.items)&&(e.itemsList=r.items.map(((r,n)=>e.compileSchema(r,`${t}/items/${n}`,`${e.schemaId}/items/${n}`))))},addResolve:e=>null!=(e.itemsList||e.itemsObject),resolve:function({node:e,key:r}){if(e.itemsObject)return e.itemsObject;if(e.itemsList[r])return e.itemsList[r]},addValidate:({schema:e})=>null!=e.items,validate:function({node:e,data:r,pointer:t="#",path:n}){const{schema:o}=e;if(!Array.isArray(r)||0===r.length)return;if(!1===o.items){if(Array.isArray(r)&&0===r.length)return;return e.errors.invalidDataError({pointer:t,value:r,schema:o})}const a=[];if(e.itemsList){for(let o=0;o<Math.min(e.itemsList.length,r.length);o+=1){const i=r[o],s=e.itemsList[o].validate(i,`${t}/${o}`,n);a.push(...s)}return a}if(e.itemsObject){for(let o=0;o<r.length;o+=1){const i=r[o],s=e.itemsObject.validate(i,`${t}/${o}`,n);s&&a.push(...s)}return a}}};const H={id:"maximum",keyword:"maximum",addValidate:({schema:e})=>!isNaN(e.maximum),validate:function({node:e,data:r,pointer:t}){if(isNaN(r))return;const{schema:n}=e;if(n.maximum&&n.maximum<r)return e.errors.maximumError({maximum:n.maximum,length:r,value:r,pointer:t,schema:n});if(n.maximum&&!0===n.exclusiveMaximum&&n.maximum===r)return e.errors.maximumError({maximum:n.maximum,length:r,pointer:t,schema:n,value:r});return}};const G={id:"maxItems",keyword:"maxItems",addValidate:({schema:e})=>!isNaN(e.maxItems),validate:function({node:e,data:r,pointer:t}){const{schema:n}=e;if(Array.isArray(r)&&n.maxItems<r.length)return e.errors.maxItemsError({maximum:n.maxItems,length:r.length,schema:n,value:r,pointer:t})}};function B(e){const r=[];let t=0;const n=e.length;for(;t<n;){const o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<n){const n=e.charCodeAt(t++);56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)}else r.push(o)}return r}const W={id:"maxLength",keyword:"maxLength",addValidate:({schema:e})=>!isNaN(e.maxLength),validate:function({node:e,data:r,pointer:t="#"}){if("string"!=typeof r)return;const{schema:n}=e,o=B(r).length;if(n.maxLength<o)return e.errors.maxLengthError({maxLength:n.maxLength,length:o,pointer:t,schema:n,value:r})}};const Z={id:"maxProperties",keyword:"maxProperties",addValidate:({schema:e})=>!isNaN(e.maxProperties),validate:function({node:e,data:r,pointer:t="#"}){if(!c(r))return;const{schema:n}=e,o=Object.keys(r).length;if(!1===isNaN(n.maxProperties)&&n.maxProperties<o)return e.errors.maxPropertiesError({maxProperties:n.maxProperties,length:o,pointer:t,schema:n,value:r})}};const Q={id:"minimum",keyword:"minimum",addValidate:({schema:e})=>!isNaN(e.minimum),validate:function({node:e,data:r,pointer:t}){if(isNaN(r))return;const{schema:n}=e;if(n.minimum>r)return e.errors.minimumError({minimum:n.minimum,length:r,pointer:t,schema:n,value:r});if(!0===n.exclusiveMinimum&&n.minimum===r)return e.errors.minimumError({minimum:n.minimum,length:r,pointer:t,schema:n,value:r});return}};const X={id:"minItems",keyword:"minItems",addValidate:({schema:e})=>!isNaN(e.minItems),validate:function({node:e,data:r,pointer:t}){if(!Array.isArray(r))return;const{schema:n}=e;if(n.minItems>r.length)return 1===n.minItems?e.errors.minItemsOneError({minItems:n.minItems,length:r.length,pointer:t,schema:n,value:r}):e.errors.minItemsError({minItems:n.minItems,length:r.length,pointer:t,schema:n,value:r})}};const Y={id:"minLength",keyword:"minLength",addValidate:({schema:e})=>!isNaN(e.minLength),validate:function({node:e,data:r,pointer:t="#"}){if("string"!=typeof r)return;const{schema:n}=e,o=B(r).length;if(n.minLength<=o)return;if(1===n.minLength)return e.errors.minLengthOneError({minLength:n.minLength,length:o,pointer:t,schema:n,value:r});return e.errors.minLengthError({minLength:n.minLength,length:o,pointer:t,schema:n,value:r})}};const K={id:"minProperties",keyword:"minProperties",addValidate:({schema:e})=>!isNaN(e.minProperties),validate:function({node:e,data:r,pointer:t="#"}){if(!c(r))return;const n=Object.keys(r).length;if(e.schema.minProperties>n)return e.errors.minPropertiesError({minProperties:e.schema.minProperties,length:n,pointer:t,schema:e.schema,value:r})}};function ee(e){const r=`${e}`;if(r.includes("e-"))return parseInt(r.replace(/.*e-/,""));const t=r.indexOf(".");return-1===t?0:r.length-(t+1)}const re={id:"multipleOf",keyword:"multipleOf",addValidate:({schema:e})=>!isNaN(e.multipleOf),validate:function({node:e,data:r,pointer:t}){if("number"!=typeof r)return;const{schema:n}=e,o=ee(r),a=ee(n.multipleOf);if(o>a)return e.errors.multipleOfError({multipleOf:n.multipleOf,value:r,pointer:t,schema:n});const i=Math.pow(10,a),s=Math.round(r*i),l=Math.round(n.multipleOf*i);if(s%l/i!=0)return e.errors.multipleOfError({multipleOf:n.multipleOf,value:r,pointer:t,schema:n});return}};const te={id:"not",keyword:"not",parse:function(e){const{schema:r,spointer:t,schemaId:n}=e;null!=r.not&&(e.not=e.compileSchema(r.not,`${t}/not`,`${n}/not`))},addValidate:e=>null!=e.not,validate:function({node:e,data:r,pointer:t="#"}){const{schema:n}=e;if(0===e.not.validate(r,t).length)return e.errors.notError({value:r,not:n.not,pointer:t,schema:n})}};const{DECLARATOR_ONEOF:ne}=h,oe={id:"oneOf",keyword:"oneOf",parse:function(e){const{schema:r,spointer:t,schemaId:n}=e;Array.isArray(r.oneOf)&&r.oneOf.length&&(e.oneOf=r.oneOf.map(((r,o)=>e.compileSchema(r,`${t}/oneOf/${o}`,`${n}/oneOf/${o}`))))},addReduce:e=>null!=e.oneOf,reduce:ae,addValidate:e=>null!=e.oneOf,validate:function({node:e,data:r,pointer:t="#",path:n}){const{oneOf:o,schema:a}=e;if(!o)return;const i=[],s=[];for(let e=0;e<o.length;e+=1){const a=o[e].validate(r,t,n);a.length>0?s.push(...a):i.push({index:e,node:o[e]})}if(1===i.length){const{node:e,index:r}=i[0];return void(e.oneOfIndex=r)}if(i.length>1)return e.errors.multipleOneOfError({value:r,pointer:t,schema:a,matches:i});return e.errors.oneOfError({value:JSON.stringify(r),pointer:t,schema:a,oneOf:a.oneOf,errors:s})}};function ae({node:e,data:r,pointer:t,path:n}){if(null!=r&&e.schema[ne])return function({node:e,data:r,pointer:t,path:n}){const o=[],a=e.schema[ne],i=p(r,a);if(void 0===i)return e.errors.missingOneOfPropertyError({property:a,pointer:t,schema:e.schema,value:r});for(let s=0;s<e.oneOf.length;s+=1){const l=e.oneOf[s].get(a,r);if(!d(l))return e.errors.missingOneOfDeclaratorError({declarator:ne,oneOfProperty:a,schemaPointer:e.oneOf[s].schemaId,pointer:t,schema:e.schema,value:r});const c=m(l.validate(i,t));if(!(c.length>0)){const o=e.oneOf[s].reduce({data:r,pointer:t,path:n});return o.oneOfIndex=s,o}o.push(...c)}return e.errors.oneOfPropertyError({property:a,value:i,pointer:t,schema:e.schema,errors:o})}({node:e,data:r,pointer:t,path:n});const o=[],a=[];for(let n=0;n<e.oneOf.length;n+=1){const i=e.oneOf[n].validate(r,t);0===i.length?o.push({index:n,node:e.oneOf[n]}):a.push(...i)}if(1===o.length){const{node:e,index:a}=o[0];e.oneOfIndex=a;return e.reduce({data:r,pointer:t,path:n})}return o.length,e.errors.oneOfError({value:JSON.stringify(r),pointer:t,schema:e.schema,oneOf:e.schema.oneOf,errors:a})}function ie(e,r){var t;if(null==r||null==e.properties)return-1;let n=0;const o=Object.keys(null!==(t=e.properties)&&void 0!==t?t:{});for(let t=0;t<o.length;t+=1){const a=o[t];r[a]&&0===e.properties[a].validate(r[a]).length&&(n+=1)}return n}const se={id:"pattern",keyword:"pattern",addValidate:({schema:e})=>"string"==typeof e.pattern,validate:function({node:e,data:r,pointer:t="#"}){const{schema:n}=e;if("string"!=typeof r)return;if(!1===new RegExp(n.pattern,"u").test(r))return e.errors.patternError({pattern:n.pattern,description:n.patternExample||n.pattern,received:r,schema:n,value:r,pointer:t});return}};const le={id:"patternProperties",keyword:"patternProperties",parse:function(e){const{schema:r}=e;if(!c(r.patternProperties))return;const t=Object.keys(r.patternProperties);if(0===t.length)return;e.patternProperties=t.map((t=>({pattern:new RegExp(t),node:e.compileSchema(r.patternProperties[t],`${e.spointer}/patternProperties/${t}`,`${e.schemaId}/patternProperties/${t}`)})))},addReduce:e=>null!=e.patternProperties,reduce:function({node:e,data:r,key:t}){var n;if(!c(r)&&null!=r&&void 0===t)return;const{patternProperties:o}=e;let a;const i=Object.keys(null!=r?r:{});t&&i.push(`${t}`);if(i.push(...Object.keys(null!==(n=e.schema.properties)&&void 0!==n?n:{})),i.forEach(((r,t,n)=>{var i,s;if(n.indexOf(r)!==t)return;let l=null!==(s=null===(i=e.schema.properties)||void 0===i?void 0:i[r])&&void 0!==s?s:{};const c=o.filter((e=>e.pattern.test(r)));c.forEach((e=>l=y(l,e.node.schema))),c.length>0&&(a=null!=a?a:{properties:{}},a.properties[r]=l)})),null==a)return e;return a=y(e.schema,a,"patternProperties"),e.compileSchema(a,e.spointer)},addResolve:e=>null!=e.patternProperties,resolve:function({node:e,key:r}){var t,n;return null===(n=null===(t=e.patternProperties)||void 0===t?void 0:t.find((({pattern:e})=>e.test(`${r}`))))||void 0===n?void 0:n.node},addValidate:e=>null!=e.patternProperties,validate:function({node:e,data:r,pointer:t="#"}){if(!c(r))return;const{schema:n,patternProperties:o}=e,a=n.properties||{},i=Object.keys(n.patternProperties).join(","),s=[];return Object.keys(r).forEach((l=>{const c=p(r,l),u=o.filter((e=>e.pattern.test(l)));u.forEach((({node:e})=>s.push(...e.validate(c,`${t}/${l}`)))),a[l]||0===u.length&&!1===n.additionalProperties&&s.push(e.errors.noAdditionalPropertiesError({key:l,pointer:`${t}/${l}`,schema:n,value:c,patterns:i}))})),s}};const ce={id:"property",keyword:"properties",parse:function(e){const{schema:r,spointer:t,schemaId:n}=e;r.properties&&(e.properties={},Object.keys(r.properties).forEach((o=>{const a=e.compileSchema(r.properties[o],`${t}/properties/${o}`,`${n}/properties/${o}`);e.properties[o]=a})))},addResolve:e=>null!=e.properties,resolve:function({node:e,key:r}){var t;return null===(t=e.properties)||void 0===t?void 0:t[r]},addValidate:e=>null!=e.properties,validate:function({node:e,data:r,pointer:t,path:n}){if(!c(r))return;const o=[];return Object.keys(r).forEach((a=>{if(null==e.properties[a])return;const i=e.properties[a].validate(p(r,a),`${t}/${a}`,n);o.push(...i)})),o}};const ue={id:"propertyNames",keyword:"propertyNames",parse:function(e){const{propertyNames:r}=e.schema;if(null==r)return;c(r)&&(e.propertyNames=e.compileSchema(r,`${e.spointer}/propertyNames`,`${e.schemaId}/propertyNames`))},addValidate:({schema:e})=>null!=e.propertyNames,validate:function({node:e,data:r,pointer:t="#"}){const{schema:n}=e;if(!c(r))return;if(!1===n.propertyNames){if(0===Object.keys(r).length)return;return e.errors.invalidPropertyNameError({property:Object.keys(r),pointer:t,value:r,schema:n})}if(!0===n.propertyNames)return;if(!c(e.propertyNames))return;const o=[];return Object.keys(r).forEach((a=>{const i=e.propertyNames.validate(a);i.length>0&&o.push(e.errors.invalidPropertyNameError({property:a,pointer:t,validationError:i[0],value:r[a],schema:n}))})),o}};const de=/(#)+$/,me=/#$/,pe=/^[#/]+/,fe=/^[^:]+:\/\/[^/]+\//,he=/\/[^/]*$/,ve=/#.*$/,ye=/^urn:uuid:[0-9A-Fa-f]/;function $e(e,r){const t=function(e,r){return null!=e||null!=r&&""!==r?null==r||""===r?e.replace(me,""):ye.test(r)?r:null==e||""===e||"#"===e?r.replace(me,""):"#"===r[0]?`${e.replace(ve,"")}${r.replace(de,"")}`:fe.test(r)?r.replace(me,""):fe.test(e)&&r.startsWith("/")?`${e.replace(/(^[^:]+:\/\/[^/]+)(.*)/,"$1")}/${r.replace(pe,"")}`:`${e.replace(he,"")}/${r.replace(pe,"")}`:"#"}(e,r);return""===t?"#":t}function be(e,...r){const t={};return Object.keys(e).forEach((n=>{r.includes(n)||(t[n]=e[n])})),t}const ge=/(#)+$/g,xe=["",null,"#"];function Ee(e){if(xe.includes(e))return[];if(-1===(e=e.replace(ge,"")).indexOf("#"))return[e.replace(/(#|\/)+$/g,"")];if(0===e.indexOf("#"))return[e.replace(ge,"")];const r=e.split("#");return r[0]=r[0].replace(/(#|\/)+$/g,""),r[1]=`#${r[1].replace(ge,"")}`,r}const Pe={id:"$ref",keyword:"$ref",parse:function(e){var r,t,n,o,a;e.resolveRef=Oe;const i=$e(null===(r=e.parent)||void 0===r?void 0:r.$id,null===(t=e.schema)||void 0===t?void 0:t.$id);e.$id=i,e.lastIdPointer=null!==(o=null===(n=e.parent)||void 0===n?void 0:n.lastIdPointer)&&void 0!==o?o:"#",i!==(null===(a=e.parent)||void 0===a?void 0:a.$id)&&"#"!==e.spointer&&(e.lastIdPointer=e.spointer);if("#"!==e.lastIdPointer&&e.spointer.startsWith(e.lastIdPointer)){const r=`#${e.spointer.replace(e.lastIdPointer,"")}`;Ie(e,$e(i,r))}Ie(e,$e(e.context.rootNode.$id,e.spointer)),e.schema.$anchor&&(e.context.anchors[`${i.replace(/#$/,"")}#${e.schema.$anchor}`]=e);e.schema.$ref&&(e.ref=$e(i,e.schema.$ref),e.ref.startsWith("/")&&(e.ref=`#${e.ref}`))},addValidate:({schema:e})=>null!=e.$ref||null!=e.$recursiveRef,validate:function({node:e,data:r,pointer:t="#",path:n}){const o=e.resolveRef({pointer:t,path:n});if(null!=o)return o.validate(r,t,n)}};function Ie(e,r){null==e.context.refs[r]&&(e.context.refs[r]=e)}function Oe({pointer:e,path:r}={}){const t=this;if(t.schema.$recursiveRef){const n=function(e,r){var t;const n=r;let o=0;for(let r=n.length-1;r>=0;r--){if(!1===n[r].node.schema.$recursiveAnchor){return Ae(e,$e(e.$id,e.schema.$recursiveRef))}if(/^https?:\/\//.test(null!==(t=n[r].node.schema.$id)&&void 0!==t?t:"")&&!0!==n[r].node.schema.$recursiveAnchor){o=r;break}}const a=n.find(((e,r)=>r>=o&&!0===e.node.schema.$recursiveAnchor));if(a)return a.node;const i=Ae(e,$e(e.$id,e.schema.$recursiveRef));return i}(t,r);return null==r||r.push({pointer:e,node:n}),n}if(null==t.ref)return t;const n=Ae(t);return null!=n&&(null==r||r.push({pointer:e,node:n})),n}function _e(e,r=e.spointer){const t=c(e.schema)?be(e.schema,"$id"):e.schema;return e.compileSchema(t,`${r}/$ref`,e.schemaId)}function Ae(e,r=(null==e?void 0:e.ref)){if(null==r)return e;if(e.context.refs[r])return _e(e.context.refs[r],e.spointer);if(e.context.anchors[r])return _e(e.context.anchors[r],e.spointer);const t=Ee(r);if(0!==t.length){if(1===t.length){const r=t[0];return e.context.remotes[r]?_e(e.context.remotes[r],e.spointer):void console.error("REF: UNFOUND 1",r)}if(2!==t.length)console.error("REF: UNHANDLED",r);else{const n=t[0];if(e.context.remotes[n]&&e!==e.context.remotes[n]){const o=e.context.remotes[n];let a=Ae(o,r);if(a)return a;if(a=Ae(o,t[1]),a)return a}console.error("REF: UNFOUND 2",r)}}else console.error("REF: INVALID",r)}const Se={id:"$ref",keyword:"$ref",parse:function(e){var r,t,n,o,a,i,s;let l=null===(r=e.parent)||void 0===r?void 0:r.$id;null==(null===(t=e.schema)||void 0===t?void 0:t.$ref)&&(l=$e(null===(n=e.parent)||void 0===n?void 0:n.$id,null===(o=e.schema)||void 0===o?void 0:o.$id));e.$id=l,e.lastIdPointer=null!==(i=null===(a=e.parent)||void 0===a?void 0:a.lastIdPointer)&&void 0!==i?i:"#",e.resolveRef=Oe,null==e.context.refs[l]&&(e.context.refs[l]=e);l!==(null===(s=e.parent)||void 0===s?void 0:s.$id)&&(e.lastIdPointer=e.spointer);if("#"!==e.lastIdPointer&&e.spointer.startsWith(e.lastIdPointer)){const r=`#${e.spointer.replace(e.lastIdPointer,"")}`;e.context.refs[$e(l,r)]=e}else e.context.refs[$e(l,e.spointer)]=e;e.context.refs[$e(e.context.rootNode.$id,e.spointer)]=e,e.schema.$ref&&(e.ref=$e(l,e.schema.$ref))},addValidate:({schema:e})=>null!=e.$ref,validate:function({node:e,data:r,pointer:t="#",path:n}){const o=we(e,t,n);if(null==o)return;return o.validate(r,t,n)}};function we(e,r,t){const n=e.resolveRef({pointer:r,path:t});if(null!=n)return n!==e&&n?we(n,r,t):e}const ke={id:"$ref",keyword:"$ref",parse:function(e){var r,t,n,o,a,i,s;let l=null===(r=e.parent)||void 0===r?void 0:r.$id;null==(null===(t=e.schema)||void 0===t?void 0:t.$ref)&&(null===(n=e.schema)||void 0===n?void 0:n.id)&&(l=$e(null===(o=e.parent)||void 0===o?void 0:o.$id,e.schema.id));e.$id=l,e.lastIdPointer=null!==(i=null===(a=e.parent)||void 0===a?void 0:a.lastIdPointer)&&void 0!==i?i:"#",e.resolveRef=Ne,null==e.context.refs[l]&&(e.context.refs[l]=e);l!==(null===(s=e.parent)||void 0===s?void 0:s.$id)&&(e.lastIdPointer=e.spointer);if("#"!==e.lastIdPointer&&e.spointer.startsWith(e.lastIdPointer)){const r=`#${e.spointer.replace(e.lastIdPointer,"")}`;je(e,$e(l,r))}else je(e,$e(l,e.spointer));je(e,$e(e.context.rootNode.$id,e.spointer)),e.schema.$ref&&(e.ref=$e(l,e.schema.$ref))},addValidate:({schema:e})=>null!=e.$ref,validate:Se.validate};function je(e,r){null==e.context.refs[r]&&(e.context.refs[r]=e)}function Ne({pointer:e,path:r}={}){const t=this;if(null==t.ref)return t;const n=De(t);return null!=n?null==r||r.push({pointer:e,node:n}):console.log("failed resolving",t.ref,"from",Object.keys(t.context.refs)),n}function Le(e,r=e.spointer){const t=c(e.schema)?be(e.schema,"id"):e.schema;return e.compileSchema(t,`${r}/$ref`,t.schemaId)}function De(e,r=(null==e?void 0:e.ref)){var t;if(null==r)return e;if(e.context.refs[r])return Le(e.context.refs[r],e.spointer);if(e.context.anchors[r])return Le(e.context.anchors[r],e.spointer);const n=Ee(r);if(0!==n.length){if(1===n.length){const r=n[0];return e.context.remotes[r]?Le(e.context.remotes[r],e.spointer):void console.error("REF: UNFOUND 1",r,Object.keys(e.context.remotes))}if(2!==n.length)console.error("REF: UNHANDLED",r);else{const o=n[0];if(e.context.remotes[o]&&e!==e.context.remotes[o]){const t=e.context.remotes[o];let a=De(t,r);if(a)return a;if(a=De(t,n[1]),a)return a}const a=n[0];if(e.context.refs[a]){const r=e.context.refs[a],o=n[1].split("$defs/").pop();return De(null===(t=null==r?void 0:r.$defs)||void 0===t?void 0:t[o])}console.error("REF: UNFOUND 2",r)}}else console.error("REF: INVALID",r)}const Me=Object.prototype.hasOwnProperty,Re={id:"required",keyword:"required",addValidate:({schema:e})=>Array.isArray(e.required),validate:function({node:e,data:r,pointer:t="#"}){const{schema:n}=e;if(!c(r))return;return n.required.map((o=>{if(!((e,r)=>!(void 0===e[r]||!Me.call(e,r)))(r,o))return e.errors.requiredPropertyError({key:o,pointer:t,schema:n,value:r})}))}};const Ve={id:"type",keyword:"type",addReduce:e=>Array.isArray(e.schema.type),reduce:function({node:e,pointer:r,data:t}){const n=Fe(t,e.schema.type);if("undefined"!==n&&Array.isArray(e.schema.type)&&e.schema.type.includes(n))return e.compileSchema({...e.schema,pointer:r,type:n},e.spointer);return},addValidate:({schema:e})=>null!=e.type,validate:function({node:e,data:r,pointer:t}){const n=e.schema,o=Fe(r,n.type);if(void 0===r||n.type===o||Array.isArray(n.type)&&n.type.includes(o))return;return e.errors.typeError({value:r,received:o,expected:n.type,schema:n,pointer:t})}};function Fe(e,r){const t=o(e);return"number"===t&&("integer"===r||Array.isArray(r)&&r.includes("integer"))?Number.isInteger(e)||isNaN(e)?"integer":"number":t}var Ue=t(17),Te=t.n(Ue);const Ce={id:"uniqueItems",keyword:"uniqueItems",addValidate:({schema:e})=>!0===e.uniqueItems,validate:function({node:e,data:r,pointer:t}){if(!Array.isArray(r))return;const{schema:n}=e,o=[],a=[];return r.forEach(((i,s)=>{for(let l=s+1;l<r.length;l+=1)Te()(i,r[l])&&!o.includes(l)&&(a.push(e.errors.uniqueItemsError({pointer:`${t}/${l}`,duplicatePointer:`${t}/${s}`,arrayPointer:t,value:JSON.stringify(i),schema:n})),o.push(l))})),a}};const ze={version:"draft-04",$schema:"http://json-schema.org/draft-04/schema",features:[ke,b,g,x,P,I,O,_,A,j,J,H,G,W,Z,Q,X,Y,K,re,te,le,se,ce,ue,Re,Ve,Ce,oe,f,v].map((e=>{const r=()=>e.keyword;return e.validate&&(e.validate.toJSON=r),e.reduce&&(e.reduce.toJSON=r),e.resolve&&(e.resolve.toJSON=r),e}))},qe={id:"const",keyword:"const",addValidate:({schema:e})=>void 0!==e.const,validate:function({node:e,data:r,pointer:t}){if(!Te()(r,e.schema.const))return[e.errors.constError({pointer:t,schema:e.schema,value:r,expected:e.schema.const})]}};const Je={id:"exclusiveMaximum",keyword:"exclusiveMaximum",addValidate:({schema:e})=>null!=e.exclusiveMaximum&&!isNaN(parseInt(e.exclusiveMaximum)),validate:function({node:e,data:r,pointer:t}){if("number"!=typeof r)return;if(e.schema.exclusiveMaximum<=r)return e.errors.exclusiveMaximumError({maximum:e.schema.exclusiveMaximum,length:r,pointer:t,schema:e.schema,value:r})}};const He={id:"exclusiveMinimum",keyword:"exclusiveMinimum",addValidate:({schema:e})=>null!=e.exclusiveMinimum&&!isNaN(parseInt(e.exclusiveMinimum)),validate:function({node:e,data:r,pointer:t}){if("number"!=typeof r)return;if(e.schema.exclusiveMinimum>=r)return e.errors.exclusiveMinimumError({minimum:e.schema.exclusiveMinimum,length:r,pointer:t,schema:e.schema,value:r})}};const Ge={id:"unevaluatedItems",keyword:"unevaluatedItems",parse:function(e){if(!c(e.schema.unevaluatedItems))return;e.unevaluatedItems=e.compileSchema(e.schema.unevaluatedItems,`${e.spointer}/unevaluatedItems`,`${e.schemaId}/unevaluatedItems`)},addValidate:({schema:e})=>null!=e.unevaluatedItems,validate:function({node:e,data:r,pointer:t,path:n}){const{schema:o}=e;if(!Array.isArray(r)||0===r.length||null==o.unevaluatedItems||!0===o.unevaluatedItems)return;let a=e.reduce({data:r,pointer:t,path:n});if(a=d(a)?a:e,!0===a.schema.unevaluatedItems||!0===a.schema.additionalItems)return;const i=null!=e.if&&0===e.if.validate(r,t,n).length,s=[];for(let a=0;a<r.length;a+=1){const l=r[a],c=e.get(a,r,{path:n});if(d(c)&&c.validate(l,`${t}/${a}`,n).length>0){if(e.unevaluatedItems)return m(r.map(((r,o)=>e.unevaluatedItems.validate(r,`${t}/${a}`,n))));if(!1===e.schema.unevaluatedItems)return e.errors.unevaluatedItemsError({pointer:`${t}/${a}`,value:JSON.stringify(l),schema:o})}if(void 0===c)if(i&&e.if.itemsList&&e.if.itemsList.length>a);else if(e.unevaluatedItems){const r=e.unevaluatedItems.validate(l,`${t}/${a}`,n);r.length>0&&s.push(...r)}else s.push(e.errors.unevaluatedItemsError({pointer:`${t}/${a}`,value:JSON.stringify(l),schema:o}))}return s}};const Be={id:"unevaluatedProperties",keyword:"unevaluatedProperties",parse:function(e){if(!c(e.schema.unevaluatedProperties))return;e.unevaluatedProperties=e.compileSchema(e.schema.unevaluatedProperties,`${e.spointer}/unevaluatedProperties`,`${e.schemaId}/unevaluatedProperties`)},addValidate:({schema:e})=>null!=e.unevaluatedProperties,validate:function({node:e,data:r,pointer:t,path:n}){if(!c(r))return;let o=e.reduce({data:r,pointer:t,path:n});if(o=d(o)?o:e,!0===o.schema.unevaluatedProperties||!0===o.schema.additionalProperties)return;const a=Object.keys(r);if(0===a.length)return;const i=[];for(let s=0;s<a.length;s+=1){const l=a[s],c=e.get(l,r,{path:n});if(d(c)&&c.validate(r[l],`${t}/${l}`,n).length>0)i.push(e.errors.unevaluatedPropertyError({pointer:`${t}/${l}`,value:JSON.stringify(r[l]),schema:e.schema}));else if(void 0===c)if(e.if&&We(e.if,l,r));else if(o.unevaluatedProperties){const o=e.unevaluatedProperties.validate(r[l],`${t}/${l}`,n);i.push(...o)}else!1===o.schema.unevaluatedProperties&&i.push(e.errors.unevaluatedPropertyError({pointer:`${t}/${l}`,value:JSON.stringify(r[l]),schema:e.schema}))}return i}};function We(e,r,t){const n=e.get(r,t);return null!=n&&!u(n)&&0===n.validate(p(t,r)).length}const Ze={version:"draft-06",$schema:"http://json-schema.org/draft-06/schema",features:[Se,b,g,qe,x,P,I,O,Je,He,j,J,H,G,W,Z,Q,X,Y,K,re,te,le,se,ce,ue,Re,Ve,Ge,Be,Ce,oe,f,v].map((e=>{const r=()=>e.keyword;return e.validate&&(e.validate.toJSON=r),e.reduce&&(e.reduce.toJSON=r),e.resolve&&(e.resolve.toJSON=r),e}))},Qe={id:"if-then-else",keyword:"if",parse:function(e){const{schema:r,spointer:t}=e;null!=r.if&&(e.if=e.compileSchema(r.if,`${t}/if`));null!=r.then&&(e.then=e.compileSchema(r.then,`${t}/then`));null!=r.else&&(e.else=e.compileSchema(r.else,`${t}/else`))},addReduce:e=>e.if&&(null!=e.then||null!=e.else),reduce:function({node:e,data:r,pointer:t}){if(void 0===r)return;if(0===e.if.validate(r,t).length){if(e.then){const t=e.then.reduce({data:r}),n=y(e.then.schema,t.schema,"if","then","else");return e.compileSchema(n,e.then.spointer)}}else if(e.else){const t=e.else.reduce({data:r}),n=y(e.else.schema,t.schema,"if","then","else");return e.compileSchema(n,e.else.spointer)}return},addValidate:e=>null!=e.if,validate:function({node:e,data:r,pointer:t,path:n}){if(0===e.if.validate(r,t,n).length){if(e.then)return e.then.validate(r,t,n)}else if(e.else)return e.else.validate(r,t,n)}};const Xe={version:"draft-07",$schema:"http://json-schema.org/draft-07/schema",features:[Se,b,g,qe,x,P,I,O,Je,He,j,Qe,J,H,G,W,Z,Q,X,Y,K,re,te,le,se,ce,ue,Re,Ve,Ge,Be,Ce,oe,f,v].map((e=>{const r=()=>e.keyword;return e.validate&&(e.validate.toJSON=r),e.reduce&&(e.reduce.toJSON=r),e.resolve&&(e.resolve.toJSON=r),e}))},Ye={id:"dependentRequired",keyword:"dependentRequired",addValidate:e=>c(e.schema.dependentRequired),validate:function({node:e,data:r,pointer:t="#"}){if(!c(r))return;const{schema:n}=e,o=n.dependentRequired,a=[];return Object.keys(r).forEach((i=>{const s=o[i];if(!0!==s)if(!1!==s){if(Array.isArray(s))for(let o=0,i=s.length;o<i;o+=1)void 0===r[s[o]]&&a.push(e.errors.missingDependencyError({missingProperty:s[o],pointer:t,schema:n,value:r}))}else a.push(e.errors.missingDependencyError({pointer:t,schema:n,value:r}))})),a}};const Ke={id:"dependentSchemas",keyword:"dependentSchemas",parse:function(e){const{dependentSchemas:r}=e.schema;if(!c(r))return;const t=Object.keys(r);if(0===t.length)return;e.dependentSchemas={},t.forEach((t=>{const n=r[t];c(n)?e.dependentSchemas[t]=e.compileSchema(n,`${e.spointer}/dependentSchemas/${t}`,`${e.schemaId}/dependentSchemas/${t}`):"boolean"==typeof n&&(e.dependentSchemas[t]=n)}))},addReduce:e=>null!=e.dependentSchemas,reduce:function({node:e,data:r}){if(!c(r))return e;let t;const{dependentSchemas:n}=e;if(Object.keys(r).forEach((e=>{null!=n[e]&&(t=null!=t?t:{properties:{}},d(n[e])?t=y(t,n[e].schema):t.properties[e]=n[e])})),null==t)return e;return t=y(e.schema,t,"dependentSchemas"),e.compileSchema(t,e.spointer,e.schemaId)},addValidate:e=>null!=e.dependentSchemas,validate:function({node:e,data:r,pointer:t="#"}){const{schema:n,dependentSchemas:o}=e;if(!c(r))return;const a=[];return Object.keys(r).forEach((i=>{const s=o[i];!0!==s&&(!1!==s?d(s)&&a.push(...s.validate(r,t)):a.push(e.errors.missingDependencyError({pointer:t,schema:n,value:r})))})),a}};const er={version:"draft-2019-09",$schema:"https://json-schema.org/draft/2019-09/schema",features:[Pe,b,g,qe,x,P,I,Ye,Ke,O,Je,He,j,Qe,J,H,G,W,Z,Q,X,Y,K,re,te,le,se,ce,ue,Re,Ve,Ge,Be,Ce,oe,f,v].map((e=>{const r=()=>e.keyword;return e.validate&&(e.validate.toJSON=r),e.reduce&&(e.reduce.toJSON=r),e.resolve&&(e.resolve.toJSON=r),e}))};var rr=Function.prototype.toString,tr=Object.create,nr=Object.prototype.toString,or=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,r){this._keys.push(e),this._values.push(r)},e}();var ar="undefined"!=typeof WeakMap?function(){return new WeakMap}:function(){return new or};function ir(e){if(!e)return tr(null);var r=e.constructor;if(r===Object)return e===Object.prototype?{}:tr(e);if(r&&~rr.call(r).indexOf("[native code]"))try{return new r}catch(e){}return tr(e)}var sr="g"===/test/g.flags?function(e){return e.flags}:function(e){var r="";return e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.unicode&&(r+="u"),e.sticky&&(r+="y"),r};function lr(e){var r=nr.call(e);return r.substring(8,r.length-1)}var cr="undefined"!=typeof Symbol?function(e){return e[Symbol.toStringTag]||lr(e)}:lr,ur=Object.defineProperty,dr=Object.getOwnPropertyDescriptor,mr=Object.getOwnPropertyNames,pr=Object.getOwnPropertySymbols,fr=Object.prototype,hr=fr.hasOwnProperty,vr=fr.propertyIsEnumerable,yr="function"==typeof pr;var $r=yr?function(e){return mr(e).concat(pr(e))}:mr;function br(e,r,t){for(var n=$r(e),o=0,a=n.length,i=void 0,s=void 0;o<a;++o)if("callee"!==(i=n[o])&&"caller"!==i)if(s=dr(e,i)){s.get||s.set||(s.value=t.copier(s.value,t));try{ur(r,i,s)}catch(e){r[i]=s.value}}else r[i]=t.copier(e[i],t);return r}function gr(e,r){return e.slice(0)}function xr(e,r){var t=new r.Constructor;return r.cache.set(e,t),e.forEach((function(e,n){t.set(n,r.copier(e,r))})),t}var Er=yr?function(e,r){var t=ir(r.prototype);for(var n in r.cache.set(e,t),e)hr.call(e,n)&&(t[n]=r.copier(e[n],r));for(var o=pr(e),a=0,i=o.length,s=void 0;a<i;++a)s=o[a],vr.call(e,s)&&(t[s]=r.copier(e[s],r));return t}:function(e,r){var t=ir(r.prototype);for(var n in r.cache.set(e,t),e)hr.call(e,n)&&(t[n]=r.copier(e[n],r));return t};function Pr(e,r){return new r.Constructor(e.valueOf())}function Ir(e,r){return e}function Or(e,r){var t=new r.Constructor;return r.cache.set(e,t),e.forEach((function(e){t.add(r.copier(e,r))})),t}var _r=Array.isArray,Ar=Object.assign,Sr=Object.getPrototypeOf||function(e){return e.__proto__},wr={array:function(e,r){var t=new r.Constructor;r.cache.set(e,t);for(var n=0,o=e.length;n<o;++n)t[n]=r.copier(e[n],r);return t},arrayBuffer:gr,blob:function(e,r){return e.slice(0,e.size,e.type)},dataView:function(e,r){return new r.Constructor(gr(e.buffer))},date:function(e,r){return new r.Constructor(e.getTime())},error:Ir,map:xr,object:Er,regExp:function(e,r){var t=new r.Constructor(e.source,sr(e));return t.lastIndex=e.lastIndex,t},set:Or},kr=Ar({},wr,{array:function(e,r){var t=new r.Constructor;return r.cache.set(e,t),br(e,t,r)},map:function(e,r){return br(e,xr(e,r),r)},object:function(e,r){var t=ir(r.prototype);return r.cache.set(e,t),br(e,t,r)},set:function(e,r){return br(e,Or(e,r),r)}});function jr(e){var r=function(e){return{Arguments:e.object,Array:e.array,ArrayBuffer:e.arrayBuffer,Blob:e.blob,Boolean:Pr,DataView:e.dataView,Date:e.date,Error:e.error,Float32Array:e.arrayBuffer,Float64Array:e.arrayBuffer,Int8Array:e.arrayBuffer,Int16Array:e.arrayBuffer,Int32Array:e.arrayBuffer,Map:e.map,Number:Pr,Object:e.object,Promise:Ir,RegExp:e.regExp,Set:e.set,String:Pr,WeakMap:Ir,WeakSet:Ir,Uint8Array:e.arrayBuffer,Uint8ClampedArray:e.arrayBuffer,Uint16Array:e.arrayBuffer,Uint32Array:e.arrayBuffer,Uint64Array:e.arrayBuffer}}(Ar({},wr,e)),t=r.Array,n=r.Object;function o(e,o){if(o.prototype=o.Constructor=void 0,!e||"object"!=typeof e)return e;if(o.cache.has(e))return o.cache.get(e);if(o.prototype=Sr(e),o.Constructor=o.prototype&&o.prototype.constructor,!o.Constructor||o.Constructor===Object)return n(e,o);if(_r(e))return t(e,o);var a=r[cr(e)];return a?a(e,o):"function"==typeof e.then?e:n(e,o)}return function(e){return o(e,{Constructor:void 0,cache:ar(),copier:o,prototype:void 0})}}jr(Ar({},kr,{}));var Nr=jr({});const Lr=["string","number","integer","boolean","null","array","object"],Dr=["additionalProperties","dependencies","dependentSchemas","dependentRequired","maxProperties","minProperties","patternProperties","properties","propertyNames","required","unevaluatedProperties"],Mr=["contains","items","maxItems","minItems","unevaluatedItems","uniqueItems"];function Rr(e,r){const t=o(r);if(!0===e.schema)return Lr.includes(t)?t:void 0;if(!c(e.schema))return;const n=e.schema.type;if(Array.isArray(n)){if(n.includes(t))return t;const r=o(e.schema.default);return n.includes(r)?r:n[0]}if(n)return n;if(Array.isArray(e.schema.enum)){const r=e.schema.enum.map((e=>o(e))).filter(((e,r,t)=>t.indexOf(e)===r));if(r.includes(t))return t;const n=o(e.schema.default);return r.includes(n)?n:r[0]}const a=Object.keys(e.schema),i=a.filter((e=>Dr.includes(e))),s=a.filter((e=>Mr.includes(e)));if(i.length>0&&i.length>s.length)return"object";if(s.length>0&&s.length>i.length)return"array";if(e.if)return Rr(e.if,r);if(e.allOf)for(let t=0;t<e.allOf.length;t+=1){const n=Rr(e.allOf[t],r);if(n)return n}if(e.oneOf)for(let t=0;t<e.oneOf.length;t+=1){const n=Rr(e.oneOf[t],r);if(n)return n}if(e.anyOf)for(let t=0;t<e.anyOf.length;t+=1){const n=Rr(e.anyOf[t],r);if(n)return n}}function Vr(e,r){var t,n,o,a,i,s;const l=null!==(o=null!==(n=null===(t=null==e?void 0:e.toJSON)||void 0===t?void 0:t.call(e))&&void 0!==n?n:e.name)&&void 0!==o?o:"";return(null!==(s=null!==(i=null===(a=null==r?void 0:r.toJSON)||void 0===a?void 0:a.call(r))&&void 0!==i?i:r.name)&&void 0!==s?s:"").localeCompare(l)}function Fr(e,r,t){var n,o;if(null==e||t.indexOf(e)!==r)return!1;const a=null!==(o=null===(n=e.toJSON)||void 0===n?void 0:n.call(e))&&void 0!==o?o:e.name;return t.find(((e,t)=>{var n,o;return(null!==(o=null===(n=e.toJSON)||void 0===n?void 0:n.call(e))&&void 0!==o?o:e.name)===a&&t===r}))}function Ur(e,r){if(null==e||null==r)return r||e;const t={};return[...Object.keys(e),...Object.keys(r)].filter(((e,r,t)=>t.indexOf(e)===r)).forEach((n=>{const o=Cr(e[n],r[n]);d(o)&&(t[n]=o)})),t}function Tr(e,r){return e||r?[...null!=e?e:[],...null!=r?r:[]]:void 0}function Cr(e,r,...t){var n;if(null==e||null==r)return e||r;const o={};e.itemsObject&&r.itemsList||e.itemsList&&r.itemsObject?r.itemsList?o.itemsList=r.itemsList:o.itemsObject=r.itemsObject:(o.itemsList=null!==(n=r.itemsList)&&void 0!==n?n:e.itemsList,o.itemsObject=Cr(e.itemsObject,r.itemsObject));return{...e,...r,...o,schema:y(e.schema,r.schema,...t),parent:e.parent,resolvers:e.resolvers.concat(r.resolvers).filter(Fr).sort(Vr),reducers:e.reducers.concat(r.reducers).filter(Fr).sort(Vr),validators:e.validators.concat(r.validators).filter(Fr).sort(Vr),additionalItems:Cr(e.additionalItems,r.additionalItems),additionalProperties:Cr(e.additionalProperties,r.additionalProperties),contains:Cr(e.contains,r.contains),if:Cr(e.if,r.if),then:Cr(e.then,r.then),else:Cr(e.else,r.else),not:Cr(e.not,r.not),propertyNames:Cr(e.propertyNames,r.propertyNames),unevaluatedProperties:Cr(e.unevaluatedProperties,r.unevaluatedProperties),unevaluatedItems:Cr(e.unevaluatedItems,r.unevaluatedItems),$defs:Ur(e.$defs,r.$defs),patternProperties:Tr(e.patternProperties,r.patternProperties),properties:Ur(e.properties,r.properties)}}function zr(e,r){var t,n,o;return(null!==(o=null===(n=null===(t=r.cache)||void 0===t?void 0:t[e.schemaId])||void 0===n?void 0:n[e.ref])&&void 0!==o?o:-1)<r.recursionLimit}function qr(e,r,t){var n,a,i,s,l,m,p,f;if(null==(null==t?void 0:t.cache))throw new Error("Missing options");if(!1===e.schema||!0===e.schema)return r;if(r instanceof File)return r;if(void 0!==(null===(n=e.schema)||void 0===n?void 0:n.const))return null===(a=e.schema)||void 0===a?void 0:a.const;let h=e,v=r;if(Array.isArray(e.schema.enum)&&e.schema.enum.length>0&&void 0===r)return e.schema.enum[0];if(void 0!==e.schema.default&&void 0===v&&(v=e.schema.default),(null===(i=h.allOf)||void 0===i?void 0:i.length)&&h.allOf.forEach((e=>{var r;v=null!==(r=e.getTemplate(v,t))&&void 0!==r?r:v})),(null===(s=h.anyOf)||void 0===s?void 0:s.length)>0&&(v=null!==(l=h.anyOf[0].getTemplate(v,t))&&void 0!==l?l:v),(null===(m=h.oneOf)||void 0===m?void 0:m.length)>0)if(function(e){switch(o(e)){case"string":case"array":return 0===(null==e?void 0:e.length);case"null":case"undefined":return!0;case"object":return 0===Object.keys(e).length;default:return!1}}(v))h=Cr(h,h.oneOf[0]);else{const e=function({node:e,data:r,pointer:t,path:n}){const o=ae({node:e,data:r,pointer:t,path:n});if(d(o))return o;if(c(r)){let o,a=-1,i=0;for(let t=0;t<e.oneOf.length;t+=1){const n=e.oneOf[t],s=ie(n,r);i<s&&(i=s,o=n,a=t)}if(void 0===o)return e.errors.oneOfError({value:JSON.stringify(r),pointer:t,schema:e.schema,oneOf:e.schema.oneOf});const s=o.reduce({data:r,pointer:t,path:n});return s.oneOfIndex=a,s}return o}({node:h,data:v});if(u(e)){if(null!=v&&!0!==t.removeInvalidData)return v;h=h.oneOf[0],v=void 0}else h=Cr(h,e)}const y=function(e,r){var t,n;if(null==e.ref)return;const{cache:o,recursionLimit:a=1}=r,i=e.schemaId;if(o[i]=null!==(t=o[i])&&void 0!==t?t:{},o[i][e.ref]=null!==(n=o[i][e.ref])&&void 0!==n?n:0,o[i][e.ref]>=a&&!0!==r.disableRecusionLimit)return!1;r.disableRecusionLimit=!1,o[i][e.ref]+=1;const s=e.resolveRef();return s&&s!==e?s:void 0}(h,t);if(!1===y)return v;y&&y!==h&&(v=null!==(p=y.getTemplate(v,t))&&void 0!==p?p:v,h=y);const $=Rr(h,v),b=null===(f=Jr[$])||void 0===f?void 0:f.call(Jr,h,v,t);return void 0===b?v:b}const Jr={null:(e,r)=>Hr(e,r,null),string:(e,r)=>Hr(e,r,""),number:(e,r)=>Hr(e,r,0),integer:(e,r)=>Hr(e,r,0),boolean:(e,r)=>Hr(e,r,!1),object:(e,r,t)=>{var n;const o=e.schema,a=void 0===o.default?{}:o.default,i={},s=!1===t.extendDefaults&&void 0!==o.default?[]:null!==(n=o.required)&&void 0!==n?n:[];if(e.properties&&Object.keys(e.properties).forEach((n=>{const o=e.properties[n],l=s.includes(n),c=p(r,n),u=void 0===r||void 0===c?p(a,n):c;(null!=u||l||t.addOptionalProps)&&(i[n]=o.getTemplate(u,t))})),c(e.dependencies)&&Object.keys(e.dependencies).forEach((n=>{const o=e.dependencies[n];if(void 0!==p(i,n)&&Array.isArray(o))o.forEach((r=>{const n=e.get(r,i);d(n)&&(i[r]=n.getTemplate(p(i,r),t))}));else if(void 0!==i[n]&&d(o)){const e=o.getTemplate(null!=r?r:i,t);Object.assign(i,e)}})),e.dependentSchemas&&Object.keys(e.dependentSchemas).forEach((n=>{if(void 0!==i[n]&&c(e.dependentSchemas[n])){const o=e.dependentSchemas[n].getTemplate(null!=r?r:i,t);Object.assign(i,o)}})),r&&(!0!==t.removeInvalidData||!1!==o.additionalProperties&&!c(o.additionalProperties)?Object.keys(r).forEach((e=>null==i[e]&&(i[e]=p(r,e)))):d(e.additionalProperties)&&Object.keys(r).forEach((t=>{if(null==i[t]){const n=p(r,t);0===e.additionalProperties.validate(n).length&&(i[t]=n)}}))),e.if){const r=e.if.validate(i);if(0===r.length&&e.then){const r=e.then.getTemplate(i,t);Object.assign(i,r)}else if(r.length>0&&e.else){const r=e.else.getTemplate(i,t);Object.assign(i,r)}}return{...a,...i}},array:(e,r,t)=>{var n,o;const a=e.schema,i=void 0===a.default?[]:a.default,s=Array.isArray(r)?[...r]:i,l=!1===t.extendDefaults&&void 0!==a.default?0:null!==(n=a.minItems)&&void 0!==n?n:0;if(null==a.items){if(e.additionalItems){const r=Math.max(l,s.length);for(let n=0;n<r;n+=1)s[n]=e.additionalItems.getTemplate(s[n],t)}return s||[]}if(e.itemsList){const n=Array.isArray(r)?r:[],a=Math.max(null!=l?l:0,e.itemsList.length);for(let r=0;r<a;r+=1){const a=null!==(o=e.itemsList[r])&&void 0!==o?o:e.additionalItems;if(a&&zr(a,t)||void 0!==n[r]){const e=a.getTemplate(null==s[r]?i[r]:s[r],t);void 0!==e&&(s[r]=e)}}return s||[]}if(null==e.itemsObject)return s;if(e.itemsObject&&zr(e.itemsObject,t)||(null==r?void 0:r.length)>0){const r={...t.cache};for(let n=0,o=Math.max(l,s.length);n<o;n+=1){t.cache=Nr(r);const o={...t,disableRecusionLimit:!0},a=e.itemsObject.getTemplate(null==s[n]?i[n]:s[n],o);if(void 0===a)return s;s[n]=a}}return s}};function Hr({schema:e},r,t){return void 0!==r?function(e,r){const t=o(r);if(void 0===e||null==r||t===e||"number"===t&&"integer"===e)return r;if("string"===e)return JSON.stringify(r);if("string"!==t)return r;try{const t=JSON.parse(r);if(o(t)===e)return t}catch(e){}return r}(e.type,r):e.const?e.const:void 0===e.default&&Array.isArray(e.enum)?e.enum[0]:void 0===e.default?t:e.default}var Gr=t(546);function Br(e){if(void 0===e)return;const r={type:o(e)};return"object"===r.type&&c(e)&&(r.properties={},Object.keys(e).forEach((t=>r.properties[t]=Br(e[t])))),"array"===r.type&&Array.isArray(e)&&(1===e.length?r.items=Br(e[0]):r.items=e.map(Br)),r}const Wr=[{regexp:"draft-04",draft:ze},{regexp:"draft-06",draft:Ze},{regexp:"draft-07",draft:Xe},{regexp:".",draft:er}];function Zr(e,r){var t,n;return null!==(n=null===(t=e.find((e=>new RegExp(e.regexp).test(r))))||void 0===t?void 0:t.draft)&&void 0!==n?n:er}function Qr(e,r={}){var t,n,o;const a=null!==(t=r.drafts)&&void 0!==t?t:Wr,i=Zr(a,null==e?void 0:e.$schema);e.$vocabulary&&console.log("handle vocabulary",e.$vocabulary);const s={spointer:"#",lastIdPointer:"#",schemaId:"#",reducers:[],resolvers:[],validators:[],schema:e,...tt};return s.context={remotes:{},anchors:{},ids:{},...null!==(n=r.remoteContext)&&void 0!==n?n:{},refs:{},rootNode:s,version:i.version,features:i.features,templateDefaultOptions:r.templateDefaultOptions,drafts:a},s.context.remotes[null!==(o=null==e?void 0:e.$id)&&void 0!==o?o:"#"]=s,Kr(s),s}const Xr=["$ref","if","$defs"],Yr=["draft-04","draft-06","draft-07"];function Kr(e){if(e.schema.$ref&&Yr.includes(e.context.version))return void e.context.features.filter((({keyword:e})=>Xr.includes(e))).forEach((r=>et(r,e)));const r=Object.keys(e.schema);e.context.features.filter((({keyword:e})=>r.includes(e)||Xr.includes(e))).forEach((r=>et(r,e)))}function et(e,r){var t,n,o,a;null===(t=e.parse)||void 0===t||t.call(e,r),(null===(n=e.addReduce)||void 0===n?void 0:n.call(e,r))&&r.reducers.push(e.reduce),(null===(o=e.addResolve)||void 0===o?void 0:o.call(e,r))&&r.resolvers.push(e.resolve),(null===(a=e.addValidate)||void 0===a?void 0:a.call(e,r))&&r.validators.push(e.validate)}const rt=["$ref","$defs","if","then","else","allOf","anyOf","oneOf","dependentSchemas","dependentRequired","definitions","dependencies","patternProperties"],tt={errors:l,compileSchema(e,r=this.spointer,t){const n=r.split("/$ref")[0],o=this,a={lastIdPointer:o.lastIdPointer,context:o.context,parent:o,spointer:r,schemaId:null!=t?t:(0,Gr.join)(o.schemaId,n),reducers:[],resolvers:[],validators:[],schema:e,...tt};return Kr(a),a},getSchema(e,r,t={}){var n,o,a;t.path=null!==(n=t.path)&&void 0!==n?n:[],t.withSchemaWarning=null!==(o=t.withSchemaWarning)&&void 0!==o&&o,t.pointer=null!==(a=t.pointer)&&void 0!==a?a:"#";const i=(0,Gr.split)(e);if(0===i.length)return this.resolveRef(t);let s="#",l=this;for(let e=0,n=i.length;e<n;e+=1){s=`${s}/${i[e]}`;const n=l.get(i[e],r,{...t,pointer:s});if(!d(n))return n;r=p(r,i[e]),l=n}return l.resolveRef(t)},getRef(e){return Qr({$ref:e},{remoteContext:this.context}).resolveRef()},get(e,r,t={}){var n,o,a;t.path=null!==(n=t.path)&&void 0!==n?n:[],t.withSchemaWarning=null!==(o=t.withSchemaWarning)&&void 0!==o&&o,t.pointer=null!==(a=t.pointer)&&void 0!==a?a:"#";const{path:i,pointer:s}=t;let l=this;if(l.reducers.length){const t=l.reduce({data:r,key:e,path:i,pointer:s});if(u(t))return t;d(t)&&(l=t)}for(const t of l.resolvers){const n=t({data:r,key:e,node:l});if(n)return n}const c=l.resolveRef({path:i});return c!==l?c.get(e,r,t):!0===t.withSchemaWarning?l.errors.schemaWarning({pointer:s,value:r,schema:l.schema,key:e}):void 0},getTemplate(e,r){return qr(this,e,{recursionLimit:1,...this.context.templateDefaultOptions,cache:{},...null!=r?r:{}})},reduce({data:e,pointer:r,key:t,path:n}){const o=Cr(this,{...this.resolveRef({pointer:r,path:n})},"$ref");if(!1===o.schema)return o;if(!0===o.schema){const t=o.compileSchema(Br(e),o.spointer,o.schemaId);return null==n||n.push({pointer:r,node:o}),t}let a,i=o;const s=o.reducers;for(let n=0;n<s.length;n+=1){const l=s[n]({data:e,key:t,node:o,pointer:r});if(u(l))return l;if(l){if(!1===l.schema){a=!1;break}i=Cr(i,l)}}return!1===a?(console.log("BOOLEAN SCHEMA RETURN"),{...o,schema:!1,reducers:[]}):(i!==o&&(null==n||n.push({pointer:r,node:o})),i.schema=be(i.schema,...rt),rt.forEach((e=>i[e]=void 0)),i)},validate(e,r="#",t=[]){const n=this;t.push({pointer:r,node:n});const o=[];if(!0===n.schema)return o;if(!1===n.schema)return[n.errors.invalidDataError({value:e,pointer:r,schema:n.schema})];for(const a of n.validators){const i=a({node:n,data:e,pointer:r,path:t});Array.isArray(i)?o.push(...i):i&&o.push(i)}return m(o)},addRemote(e,r){var t;r.$id=$e(r.$id||e);const n={spointer:"#",lastIdPointer:"#",schemaId:"#",reducers:[],resolvers:[],validators:[],schema:r,...tt},{context:o}=this,a=Zr(o.drafts,null!==(t=null==r?void 0:r.$schema)&&void 0!==t?t:this.context.rootNode.$schema);return n.context={...o,refs:{},rootNode:n,features:a.features,version:a.version},n.context.remotes[$e(e)]=n,Kr(n),this},resolveRef(){throw new Error("required a customized resolveRef function on node")},toJSON(){var e;return{...this,context:void 0,errors:void 0,parent:null===(e=this.parent)||void 0===e?void 0:e.spointer}}};function nt(e,r,t,n="#"){const o=e.resolveRef();t(o,r,n),c(r)?Object.keys(r).forEach((e=>{const a=o.get(e,r);d(a)&&nt(a,p(r,e),t,`${n}/${e}`)})):Array.isArray(r)&&r.forEach(((e,a)=>{const i=o.get(a,r);d(i)&&nt(i,p(r,a),t,`${n}/${a}`)}))}function ot(e,r){null!=r&&Object.values(r).forEach((r=>it(r,e)))}function at(e,r){null!=r&&r.forEach((r=>it(r,e)))}function it(e,r){d(e)&&!0!==r(e)&&(ot(r,e.$defs),e.additionalItems&&it(e.additionalItems,r),e.additionalProperties&&it(e.additionalProperties,r),at(r,e.allOf),at(r,e.anyOf),e.contains&&it(e.contains,r),ot(r,e.dependencies),ot(r,e.dependentSchemas),e.if&&it(e.if,r),e.else&&it(e.else,r),e.then&&it(e.then,r),e.itemsObject&&it(e.itemsObject,r),at(r,e.itemsList),e.not&&it(e.not,r),at(r,e.oneOf),e.patternProperties&&Object.values(e.patternProperties).forEach((({node:e})=>it(e,r))),ot(r,e.properties),e.propertyNames&&it(e.propertyNames,r),e.propertyNames&&it(e.propertyNames,r),e.unevaluatedProperties&&it(e.unevaluatedProperties,r),e.unevaluatedItems&&it(e.unevaluatedItems,r))}})(),n})()));